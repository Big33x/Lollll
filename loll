-- Optimization settings
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")

-- Create UI elements
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local ToggleButton = Instance.new("TextButton")
local HeaderLabel = Instance.new("TextLabel")
local ESPButton = Instance.new("TextButton")

-- Configure the ScreenGui
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Configure the MainFrame (main UI)
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 255) -- Blue background
MainFrame.Position = UDim2.new(0.5, -100, 0.5, -100)
MainFrame.Size = UDim2.new(0, 200, 0, 200)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Visible = true -- Initially visible
MainFrame.Active = true
MainFrame.Draggable = true

-- Add a UICorner for rounded corners
local MainFrameCorner = Instance.new("UICorner")
MainFrameCorner.CornerRadius = UDim.new(0, 10)
MainFrameCorner.Parent = MainFrame

-- Configure the HeaderLabel
HeaderLabel.Parent = MainFrame
HeaderLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
HeaderLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text
HeaderLabel.Position = UDim2.new(0.5, -50, 0, 10)
HeaderLabel.Size = UDim2.new(0, 100, 0, 50)
HeaderLabel.Text = "FOG"
HeaderLabel.TextScaled = true

-- Configure the ToggleButton
ToggleButton.Parent = MainFrame
ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White background
ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 255) -- Blue text
ToggleButton.Position = UDim2.new(0.5, -50, 0.8, -25) 
ToggleButton.Size = UDim2.new(0, 100, 0, 50)
ToggleButton.Text = "Toggle UI"
ToggleButton.TextScaled = true

-- Add a UICorner for rounded corners to ToggleButton
local ToggleButtonCorner = Instance.new("UICorner")
ToggleButtonCorner.CornerRadius = UDim.new(0, 10)
ToggleButtonCorner.Parent = ToggleButton

-- Configure the ESPButton
ESPButton.Parent = MainFrame
ESPButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White background
ESPButton.TextColor3 = Color3.fromRGB(0, 0, 255) -- Blue text
ESPButton.Position = UDim2.new(0.5, -50, 0.55, -25) 
ESPButton.Size = UDim2.new(0, 100, 0, 50)
ESPButton.Text = "Enable ESP"
ESPButton.TextScaled = true

-- Add a UICorner for rounded corners to ESPButton
local ESPButtonCorner = Instance.new("UICorner")
ESPButtonCorner.CornerRadius = UDim.new(0, 10)
ESPButtonCorner.Parent = ESPButton

-- Toggle UI visibility
local function toggleUI()
    MainFrame.Visible = not MainFrame.Visible
end

-- Add functionality to the toggle button
ToggleButton.MouseButton1Click:Connect(toggleUI)

-- Optimize for mobile support
if UIS.TouchEnabled then
    ToggleButton.Size = UDim2.new(0, 150, 0, 50) -- Increase size for mobile
    HeaderLabel.Size = UDim2.new(0, 150, 0, 50) -- Increase size for mobile
    ESPButton.Size = UDim2.new(0, 150, 0, 50) -- Increase size for mobile
end

-- ESP feature toggle
local espEnabled = false

local function toggleESP()
    espEnabled = not espEnabled
    if espEnabled then
        ESPButton.Text = "Disable ESP"
        print("ESP Enabled")
        -- Add your ESP code here
    else
        ESPButton.Text = "Enable ESP"
        print("ESP Disabled")
        -- Add your code to disable ESP here
    end
end

-- Add functionality to the ESP button
ESPButton.MouseButton1Click:Connect(toggleESP)

return ScreenGui
