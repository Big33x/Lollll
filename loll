-- Optimization settings
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")

-- Create UI elements
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local HeaderLabel = Instance.new("TextLabel")
local ESPButton = Instance.new("TextButton")

-- Configure the ScreenGui
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Configure the MainFrame (main UI)
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 255) -- Blue background
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 300, 0, 300)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Visible = true -- Initially visible
MainFrame.Active = true
MainFrame.Draggable = true

-- Add a UICorner for rounded corners
local MainFrameCorner = Instance.new("UICorner")
MainFrameCorner.CornerRadius = UDim.new(0, 10)
MainFrameCorner.Parent = MainFrame

-- Configure the HeaderLabel
HeaderLabel.Parent = MainFrame
HeaderLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
HeaderLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text
HeaderLabel.Position = UDim2.new(0.25, -75, 0.2, -25) -- Moved to the left
HeaderLabel.Size = UDim2.new(0, 150, 0, 50)
HeaderLabel.Text = "FOG"
HeaderLabel.TextScaled = true
HeaderLabel.AnchorPoint = Vector2.new(0.5, 0.5)

-- Configure the ESPButton
ESPButton.Parent = MainFrame
ESPButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White background
ESPButton.TextColor3 = Color3.fromRGB(0, 0, 255) -- Blue text
ESPButton.Position = UDim2.new(0.25, -75, 0.6, -25) -- Moved to the left
ESPButton.Size = UDim2.new(0, 150, 0, 50)
ESPButton.Text = "Enable ESP"
ESPButton.TextScaled = true
ESPButton.AnchorPoint = Vector2.new(0.5, 0.5)

-- Add a UICorner for rounded corners to ESPButton
local ESPButtonCorner = Instance.new("UICorner")
ESPButtonCorner.CornerRadius = UDim.new(0, 10)
ESPButtonCorner.Parent = ESPButton

-- Optimize for mobile support
if UIS.TouchEnabled then
    MainFrame.Size = UDim2.new(0, 300, 0, 300) -- Increase size for mobile
end

-- ESP feature toggle
local espEnabled = false

local function toggleESP()
    espEnabled = not espEnabled
    if espEnabled then
        ESPButton.Text = "Disable ESP"
        print("ESP Enabled")
        -- Add your ESP code here
    else
        ESPButton.Text = "Enable ESP"
        print("ESP Disabled")
        -- Add your code to disable ESP here
    end
end

-- Add functionality to the ESP button
ESPButton.MouseButton1Click:Connect(toggleESP)

return ScreenGui
